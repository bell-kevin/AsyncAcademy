@page 
@model AsyncAcademy.Pages.PaymentSuccess2Model

@* @{
    ViewData["Title"] = "PaymentSuccess";
    int? currentUserId = Model.UserId;
}
 *@



 <h2>Payment Success!</h2>

@if (!string.IsNullOrEmpty(Model.receiptLink))
{
    <p>Here is your receipt: <a href="@Model.receiptLink">Link</a></p>
}

else
{
    <p>Receipt not availale</p>
}

@* <h4>StudentPayment</h4>
<hr />
<div class="row">
    <div class="col-md-4">
        <h1>Payment successful!</h1>
        <p>Thank you for your payment. You will be redirected to your Account shortly...</p>
    </div>
</div>

<div class="row">
    <div class="col-md-6">
        <h3>Student owes: <b></b> </h3>
    </div>
    <div class="col-md-4">
        <h3>Enrolled Courses: </h3>
        <ul>
            @foreach (var payment in Model.Payments)
            {
                <li>@payment.AmountPaid, @payment.Timestamp</li>
            }

        </ul>


    </div>

</div>

<script>
    setTimeout(function () {
        window.location.href = '/Account';
    }, 3000);  
</script>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
 *@