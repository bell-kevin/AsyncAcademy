@page
@model AsyncAcademy.Pages.Course_Pages.StudentIndexModel

@{
    ViewData["Title"] = "Course Page";
}

<h1>Courses Enrolled</h1>

<table class="table">
    <thead>
        <tr>
            <th>@Html.DisplayNameFor(model => model.EnrolledCourses[0].CourseNumber)</th>
            <th>@Html.DisplayNameFor(model => model.EnrolledCourses[0].Department)</th>
            <th>@Html.DisplayNameFor(model => model.EnrolledCourses[0].Name)</th>
            <th>@Html.DisplayNameFor(model => model.EnrolledCourses[0].Description)</th>
            <th>@Html.DisplayNameFor(model => model.EnrolledCourses[0].CreditHours)</th>
            <th>@Html.DisplayNameFor(model => model.EnrolledCourses[0].InstructorId)</th>
            <th>@Html.DisplayNameFor(model => model.EnrolledCourses[0].StartTime)</th>
            <th>@Html.DisplayNameFor(model => model.EnrolledCourses[0].EndTime)</th>
            <th>@Html.DisplayNameFor(model => model.EnrolledCourses[0].Location)</th>
            <th>@Html.DisplayNameFor(model => model.EnrolledCourses[0].StudentCapacity)</th>
            <th>@Html.DisplayNameFor(model => model.EnrolledCourses[0].StudentsEnrolled)</th>
            <th>@Html.DisplayNameFor(model => model.EnrolledCourses[0].StartDate)</th>
            <th>@Html.DisplayNameFor(model => model.EnrolledCourses[0].EndDate)</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.EnrolledCourses)
        {
            <tr>
                <td>@Html.DisplayFor(modelItem => item.CourseNumber)</td>
                <td>@Html.DisplayFor(modelItem => item.Department)</td>
                <td>@Html.DisplayFor(modelItem => item.Name)</td>
                <td>@Html.DisplayFor(modelItem => item.Description)</td>
                <td>@Html.DisplayFor(modelItem => item.CreditHours)</td>
                <td>@Html.DisplayFor(modelItem => item.InstructorId)</td>
                <td>@Html.DisplayFor(modelItem => item.StartTime)</td>
                <td>@Html.DisplayFor(modelItem => item.EndTime)</td>
                <td>@Html.DisplayFor(modelItem => item.Location)</td>
                <td>@Html.DisplayFor(modelItem => item.StudentCapacity)</td>
                <td>@Html.DisplayFor(modelItem => item.StudentsEnrolled)</td>
                <td>@Html.DisplayFor(modelItem => item.StartDate)</td>
                <td>@Html.DisplayFor(modelItem => item.EndDate)</td>
                <td><a asp-page="./Details" asp-route-id="@item.Id">Details</a></td>
                <td>
                    <form method="post" asp-route-courseId="@item.Id">
                        <button type="submit" class="btn btn-warning">Withdraw</button>
                    </form>
                    
            </tr>
        }
    </tbody>
</table>

<h1>Courses Available</h1>

<table id="available-courses" class="table">
    <thead>
        <tr>
            <th>@Html.DisplayNameFor(model => model.AvailableCourses[0].CourseNumber)</th>
            <th>@Html.DisplayNameFor(model => model.AvailableCourses[0].Department)</th>
            <th>@Html.DisplayNameFor(model => model.AvailableCourses[0].Name)</th>
            <th>@Html.DisplayNameFor(model => model.AvailableCourses[0].Description)</th>
            <th>@Html.DisplayNameFor(model => model.AvailableCourses[0].CreditHours)</th>
            <th>@Html.DisplayNameFor(model => model.AvailableCourses[0].InstructorId)</th>
            <th>@Html.DisplayNameFor(model => model.AvailableCourses[0].StartTime)</th>
            <th>@Html.DisplayNameFor(model => model.AvailableCourses[0].EndTime)</th>
            <th>@Html.DisplayNameFor(model => model.AvailableCourses[0].Location)</th>
            <th>@Html.DisplayNameFor(model => model.AvailableCourses[0].StudentCapacity)</th>
            <th>@Html.DisplayNameFor(model => model.AvailableCourses[0].StudentsEnrolled)</th>
            <th>@Html.DisplayNameFor(model => model.AvailableCourses[0].StartDate)</th>
            <th>@Html.DisplayNameFor(model => model.AvailableCourses[0].EndDate)</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.AvailableCourses)
        {
            <tr>
                <td>@Html.DisplayFor(modelItem => item.CourseNumber)</td>
                <td>@Html.DisplayFor(modelItem => item.Department)</td>
                <td>@Html.DisplayFor(modelItem => item.Name)</td>
                <td>@Html.DisplayFor(modelItem => item.Description)</td>
                <td>@Html.DisplayFor(modelItem => item.CreditHours)</td>
                <td>@Html.DisplayFor(modelItem => item.InstructorId)</td>
                <td>@Html.DisplayFor(modelItem => item.StartTime)</td>
                <td>@Html.DisplayFor(modelItem => item.EndTime)</td>
                <td>@Html.DisplayFor(modelItem => item.Location)</td>
                <td>@Html.DisplayFor(modelItem => item.StudentCapacity)</td>
                <td>@Html.DisplayFor(modelItem => item.StudentsEnrolled)</td>
                <td>@Html.DisplayFor(modelItem => item.StartDate)</td>
                <td>@Html.DisplayFor(modelItem => item.EndDate)</td>
                <td>
                    <form method="post" asp-page="./Enroll" asp-route-courseId="@item.Id">
                        <button id="@item.Id" type="submit" class="btn btn-primary">Enroll</button>
                    </form>
                </td>
            </tr>
        }
    </tbody>
</table>
